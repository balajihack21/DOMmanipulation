<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css"
    integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
  <title>Item Lister</title>
  <style>
    .container{
      display: flex;
    }
    #search{
      height:40px;
      margin-left: 500px;
    }
  </style>
</head>

<body>
  <header id="main-header" class="bg-success text-white p-4 mb-3">
    <div class="container">
      <h1 id="header-title">Item Lister <span style="display:none">123</span></h1>
      <input type="text" id="search">
    </div>
  </header>
  <div class="container">
    <div id="main" class="card card-body">
      <h2 class="title">Add Items</h2>
      <form class="form-inline mb-3">
        <input type="text" class="form-control mr-2 it">
        <input type="text" class="form-control mr-2 desc">
        <input type="submit" class="btn btn-dark sub" value="Submit">
      </form>
      <h2 class="title">Items</h2>


      <ul id="items" class="list-group">
        <li class="list-group-item">Item 1
          
          <button class="btn btn-danger btn-sm float-right delete">X</button>
          <button class="btn btn-sm btn-sm float-right edit">✏️</button>
        </li>
        <li class="list-group-item">Item 2
          <button class="btn btn-danger btn-sm float-right delete">X</button>
          <button class="btn btn-sm btn-sm float-right edit">✏️</button>
        </li>
        <li class="list-group-item">Item 3
          <button class="btn btn-danger btn-sm float-right delete">X</button>
          <button class="btn btn-sm btn-sm float-right edit">✏️</button>
        </li>
        <li class="list-group-item">Item 4
          <button class="btn btn-danger btn-sm float-right delete">X</button>
          <button class="btn btn-sm btn-sm float-right edit">✏️</button>
        </li>
      </ul>
    </div>
  </div>
  <script>
    // let title = document.getElementById("header-title")
    // // title.style = "border:2px solid black;"
    // let add = document.querySelector(".title")
    // add.style = "color:green;"

    // //using class name
    // let items = document.getElementsByClassName("list-group-item")

    // for (let i = 0; i < items.length; i++) {
    //   items[i].style = "font-weight:bold;"
    // }
    // //  items[1].style="background-color:green"

    // //using Tag name
    // let tagitems = document.getElementsByTagName("li")
    // tagitems[4].style = "color:orange;font-weight:bold;"

    // //using Query selector and Query selesctor all
    // let item_2 = document.querySelector("#items")
    // // item_2.children[1].style = "background-color:green"
    // // item_2.children[2].style = "opacity:0;"

    // let item_3 = document.querySelectorAll("li:nth-child(odd)")
    // for (let i = 0; i < item_3.length; i++) {
    //   // item_3[i].style = "background-color:green"
    // }

    //Creating Nodes and Modifying Dom

    // let newone = document.createElement("h6")
    // newone.innerText = "Hello"
    // let heading = document.querySelector("h1")
    // heading.prepend(newone)

    // let secondone = document.createElement("h6")
    // secondone.innerText = "Hello"
    // item_2.prepend(secondone)

    //Delete Functionality
    let del=document.querySelectorAll(".delete")
    del.forEach((e)=>{
      e.addEventListener("click",(el)=>{
        if(confirm("Are you sure to delete?")==true){
          el.target.parentElement.style="display:none;"
        }
        
      })
    })

    //search functionality
    let search_value=document.getElementById("search")
    let items=document.querySelectorAll("li")

    search_value.addEventListener("keyup",(e)=>{
      let key=e.target.value.toLowerCase()
      items.forEach((el)=>{
        if(el.innerText.toLowerCase().includes(key)){
          el.style="display:block"
        }
        else{
          el.style="display:none"
        }
      })
    })

    // adding items
    let sub_btn=document.querySelector(".sub")
    let add_item=document.querySelector(".it")
    let add_desc=document.querySelector(".desc")
    let main_div=document.querySelector("#items")
    sub_btn.addEventListener("click",(e)=>{
       e.preventDefault()
       let add_it=document.createElement("li")
       add_it.setAttribute("class","list-group-item")
       add_it.innerText=add_item.value+" "+ e.target.parentElement.children[1].value
        

       let del_btn=document.createElement("button")
       del_btn.setAttribute("class","btn btn-danger btn-sm float-right delete")
       del_btn.innerText="X"

       let edit_btn=document.createElement("button")
       edit_btn.setAttribute("class","btn btn-sm btn-sm float-right edit")
       edit_btn.innerText="✏️"

       add_it.append(del_btn)
       add_it.append(edit_btn)

   main_div.append(add_it)

   e.target.parentElement.children[1].value=""
   e.target.parentElement.children[0].value=""
      })
  </script>
</body>

</html>